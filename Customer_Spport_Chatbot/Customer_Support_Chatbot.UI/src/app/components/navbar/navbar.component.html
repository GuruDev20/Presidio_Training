<header class="fixed top-0 left-0 md:left-64 w-full md:w-[calc(100%-16rem)] h-16 bg-[#f8f9fa] dark:bg-gradient-to-br dark:from-[#242F40] dark:to-[#3D2645] text-black dark:text-white flex items-center justify-between px-4 md:px-6 shadow-md z-50">
    <div class="flex items-center gap-3">
        <button class="md:hidden" (click)="openSidebar.emit()">
            <lucide-icon name="menu" class="w-5 h-5"></lucide-icon>
        </button>
        <span class="text-xl font-bold md:hidden">ZapChat</span>
    </div>
    <div class="flex items-center gap-4">
        <button (click)="toggleTheme()" class="text-gray-700 dark:text-white">
            <lucide-icon [name]="isDark ? 'sun' : 'moon'" class="w-5 h-5"></lucide-icon>
        </button>
        <button class="hidden md:block bg-red-400 text-white py-2 px-4 rounded transition hover:bg-red-600" (click)="logout()">Logout</button>
        <div (click)="goToProfile()" class="w-9 h-9 rounded-full bg-blue-500 text-white flex items-center justify-center cursor-pointer hover:ring-2 ring-offset-2 ring-blue-400 overflow-hidden">
            <ng-container *ngIf="userProfile?.profilePictureUrl; else fallbackInitial">
                <img [src]="userProfile.profilePictureUrl" alt="User" class="w-9 h-9 rounded-full object-cover" />
            </ng-container>
            <ng-template #fallbackInitial>
                <span class="text-sm font-semibold">{{ profileInitial }}</span>
            </ng-template>
        </div>
    </div>
</header>